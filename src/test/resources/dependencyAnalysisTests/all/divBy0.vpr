field f: Int

method sum(x: Int, y: Int) returns(res: Int)
  requires x >= 0 && y >= 0
  ensures res == x + y
  ensures res > 100
{
 assume x > 100
 res := x + y
}

method divBy0()
{
    var x: Int
    var y: Int
    @dependency("Explicit")
    assume y > 0
    @testAssertion("Implicit")
    x := x/y
}

method basic()
{
    var x: Int
    var y: Int
    @irrelevant("Explicit")
    assume x > 0
    @dependency("Explicit")
    assume y > 0
    @dependency("Explicit")
    assume y < x
    @dependency("Implicit")
    x := x/y
    @testAssertion("Explicit")
    assert x >= 1
}


method sumClient(x: Int, y: Int)
{
  @dependency("Explicit")
  assume x >= 0
  @dependency("Explicit")
  assume y >= 0
  @dependency("Explicit")
  assume x < y
  var n: Int
  @dependency("Implicit")
  n := sum(x, y)

  // the following stmt reports dependency on n := sum(x, y) because (x < y && n == x + y && n > 100 ==> y != 0)
  // although you could also prove it via (0 <= x && x < y ==> y != 0)
  var n2: Int
  @dependency("Implicit")
  n2 := sum(x/y, y)
  @dependency("Implicit")
  n := n + n2

  @testAssertion("Explicit")
  assert n >= x + 2*y
}