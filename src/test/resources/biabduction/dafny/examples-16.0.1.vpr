
field checksumData: Int

predicate ChecksumMachine(this: Ref)
{
    acc(this.checksumData) && 0 <= this.checksumData 
}

method Append(this: Ref, d: Int)
    requires ChecksumMachine(this)
    requires 0 <= d
    ensures ChecksumMachine(this)
    //ensures getChecksumData(this) == old(getChecksumData(this)) + d
{
    unfold ChecksumMachine(this)
    this.checksumData := this.checksumData + d
    fold ChecksumMachine(this)
}


