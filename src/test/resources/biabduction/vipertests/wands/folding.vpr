// Any copyright is dedicated to the Public Domain.
// http://creativecommons.org/publicdomain/zero/1.0/

field f: Int
field g: Int

predicate Pair(this: Ref) {
  acc(this.f, write) && acc(this.g, write)
}

function sum(p: Ref): Int
  requires acc(Pair(p), write)
{
  unfolding acc(Pair(p), write) in (p.f) + (p.g)
}

method test00(p: Ref)
  //requires acc(Pair(p))
{
  assume sum(p) > 0
  package true --* acc(Pair(p), write) && sum(p) > 0
}
