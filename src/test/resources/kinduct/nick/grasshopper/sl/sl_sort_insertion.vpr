import "./sl.vpr"

method insert(x: Ref, elt: Ref)
requires list(x) && acc(elt.next) && acc(elt.data)
ensures list(x)

method insertion_sort(lst: Ref) returns (res: Ref)
requires list(lst)
ensures list(res)
{
    res := null
    var curr: Ref := lst
    fold list(res)
    while(curr != null)
    //invariant list(curr)
    //invariant list(res)
    {
        var add: Ref := curr
        unfold list(curr)
        curr := curr.next
        insert(res, add)
    }
}


