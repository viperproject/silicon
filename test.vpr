field next: Ref

predicate list(x: Ref){
    x != null ==> acc(x.next) && list(x.next)
}

method test(x: Ref)
{
    var y: Ref
    y := new(*)
    y.next := x
    reverse(y)
}


method reverse(x: Ref)
requires list(x)
ensures list(x)
